(function(){'use strict';let f=!1,l=-1;
window.tinyDrag=function(m,n,c){c=c||{};let q=m.canvas;q.addEventListener("mousedown",b=>{let d=b.offsetX;b=b.offsetY;var a=m.getTransform();let g=a.e,r=a.f,t=a.a;a=a.d;let h=-1,u=Infinity;f=!0;for(let k=0;k<n.length;k++){let e=n[k],p=(d-e.x-g)/t*((d-e.x-g)/t)+(b-e.y-r)/a*((b-e.y-r)/a);p<=(e.radius*e.radius||100)&&p<u&&(h=k,u=p)}l=h;if(-1==h&&"function"==typeof c.onSelectionOut)c.onSelectionOut();else if("function"==typeof c.onSelect)c.onSelect(h)});document.addEventListener("mouseup",()=>{f=!1;l=
-1});q.addEventListener("mousemove",b=>{if(f&&-1<l){let d=n[l],a=m.getTransform(),g=a.f;d.x=b.offsetX-a.e;d.y=b.offsetY-g;if("function"==typeof c.onDrag)c.onDrag(l);"function"==typeof d.event&&d.event(b)}})};}).call(this);
